SELECT `Client`.`id`, `Client`.`firstName`, `Client`.`lastName`, `Client`.`email`, `Client`.`secondaryEmail`, `Client`.`phoneNumber`, `Client`.`preferredLanguage`, `Client`.`ninjaId`, `Client`.`status`, `Client`.`createdAt`, `Client`.`updatedAt`, `Client`.`deletedAt`, `Rentings`.`id` AS `Rentings.id`, `Rentings`.`bookingDate` AS `Rentings.bookingDate`, `Rentings`.`expectedCheckoutDate` AS `Rentings.expectedCheckoutDate`, `Rentings`.`price` AS `Rentings.price`, `Rentings`.`serviceFees` AS `Rentings.serviceFees`, `Rentings`.`status` AS `Rentings.status`, `Rentings`.`createdAt` AS `Rentings.createdAt`, `Rentings`.`updatedAt` AS `Rentings.updatedAt`, `Rentings`.`deletedAt` AS `Rentings.deletedAt`, `Rentings`.`ClientId` AS `Rentings.ClientId`, `Rentings`.`RoomId` AS `Rentings.RoomId`, `Rentings->OrderItems`.`id` AS `Rentings.OrderItems.id`, `Rentings->OrderItems`.`label` AS `Rentings.OrderItems.label`, `Rentings->OrderItems`.`quantity` AS `Rentings.OrderItems.quantity`, `Rentings->OrderItems`.`unitPrice` AS `Rentings.OrderItems.unitPrice`, `Rentings->OrderItems`.`vatRate` AS `Rentings.OrderItems.vatRate`, `Rentings->OrderItems`.`status` AS `Rentings.OrderItems.status`, `Rentings->OrderItems`.`createdAt` AS `Rentings.OrderItems.createdAt`, `Rentings->OrderItems`.`updatedAt` AS `Rentings.OrderItems.updatedAt`, `Rentings->OrderItems`.`deletedAt` AS `Rentings.OrderItems.deletedAt`, `Rentings->OrderItems`.`OrderId` AS `Rentings.OrderItems.OrderId`, `Rentings->OrderItems`.`RentingId` AS `Rentings.OrderItems.RentingId`, `Rentings->OrderItems`.`ProductId` AS `Rentings.OrderItems.ProductId`, `Rentings->Room`.`id` AS `Rentings.Room.id`, `Rentings->Room`.`reference` AS `Rentings.Room.reference`, `Rentings->Room`.`name` AS `Rentings.Room.name`, `Rentings->Room`.`floorArea` AS `Rentings.Room.floorArea`, `Rentings->Room`.`basePrice` AS `Rentings.Room.basePrice`, `Rentings->Room`.`status` AS `Rentings.Room.status`, `Rentings->Room`.`createdAt` AS `Rentings.Room.createdAt`, `Rentings->Room`.`updatedAt` AS `Rentings.Room.updatedAt`, `Rentings->Room`.`deletedAt` AS `Rentings.Room.deletedAt`, `Rentings->Room`.`ApartmentId` AS `Rentings.Room.ApartmentId`, `Rentings->Room->Apartment`.`id` AS `Rentings.Room.Apartment.id`, `Rentings->Room->Apartment`.`reference` AS `Rentings.Room.Apartment.reference`, `Rentings->Room->Apartment`.`name` AS `Rentings.Room.Apartment.name`, `Rentings->Room->Apartment`.`addressStreet` AS `Rentings.Room.Apartment.addressStreet`, `Rentings->Room->Apartment`.`addressZip` AS `Rentings.Room.Apartment.addressZip`, `Rentings->Room->Apartment`.`addressCity` AS `Rentings.Room.Apartment.addressCity`, `Rentings->Room->Apartment`.`addressCountry` AS `Rentings.Room.Apartment.addressCountry`, `Rentings->Room->Apartment`.`code` AS `Rentings.Room.Apartment.code`, `Rentings->Room->Apartment`.`floor` AS `Rentings.Room.Apartment.floor`, `Rentings->Room->Apartment`.`latLng` AS `Rentings.Room.Apartment.latLng`, `Rentings->Room->Apartment`.`floorArea` AS `Rentings.Room.Apartment.floorArea`, `Rentings->Room->Apartment`.`status` AS `Rentings.Room.Apartment.status`, `Rentings->Room->Apartment`.`createdAt` AS `Rentings.Room.Apartment.createdAt`, `Rentings->Room->Apartment`.`updatedAt` AS `Rentings.Room.Apartment.updatedAt`, `Rentings->Room->Apartment`.`deletedAt` AS `Rentings.Room.Apartment.deletedAt`, count(`Rooms`.`id`) AS `Rentings.Room.Apartment.roomCount`, `Rentings->Room->Apartment->Rooms`.`id` AS `Rentings.Room.Apartment.Rooms.id`, `Rentings->Room->Apartment->Rooms`.`reference` AS `Rentings.Room.Apartment.Rooms.reference`, `Rentings->Room->Apartment->Rooms`.`name` AS `Rentings.Room.Apartment.Rooms.name`, `Rentings->Room->Apartment->Rooms`.`floorArea` AS `Rentings.Room.Apartment.Rooms.floorArea`, `Rentings->Room->Apartment->Rooms`.`basePrice` AS `Rentings.Room.Apartment.Rooms.basePrice`, `Rentings->Room->Apartment->Rooms`.`status` AS `Rentings.Room.Apartment.Rooms.status`, `Rentings->Room->Apartment->Rooms`.`createdAt` AS `Rentings.Room.Apartment.Rooms.createdAt`, `Rentings->Room->Apartment->Rooms`.`updatedAt` AS `Rentings.Room.Apartment.Rooms.updatedAt`, `Rentings->Room->Apartment->Rooms`.`deletedAt` AS `Rentings.Room.Apartment.Rooms.deletedAt`, `Rentings->Room->Apartment->Rooms`.`ApartmentId` AS `Rentings.Room.Apartment.Rooms.ApartmentId`, `Metadata`.`id` AS `Metadata.id`, `Metadata`.`name` AS `Metadata.name`, `Metadata`.`value` AS `Metadata.value`, `Metadata`.`metadatable` AS `Metadata.metadatable`, `Metadata`.`MetadatableId` AS `Metadata.MetadatableId`, `Metadata`.`createdAt` AS `Metadata.createdAt`, `Metadata`.`updatedAt` AS `Metadata.updatedAt` FROM `Client` AS `Client` LEFT OUTER JOIN `Renting` AS `Rentings` ON `Client`.`id` = `Rentings`.`ClientId` AND (`Rentings`.`deletedAt` > CURRENT_TIMESTAMP OR `Rentings`.`deletedAt` IS NULL) LEFT OUTER JOIN `OrderItem` AS `Rentings->OrderItems` ON `Rentings`.`id` = `Rentings->OrderItems`.`RentingId` AND (`Rentings->OrderItems`.`deletedAt` > CURRENT_TIMESTAMP OR `Rentings->OrderItems`.`deletedAt` IS NULL) LEFT OUTER JOIN `Room` AS `Rentings->Room` ON `Rentings`.`RoomId` = `Rentings->Room`.`id` AND (`Rentings->Room`.`deletedAt` > CURRENT_TIMESTAMP OR `Rentings->Room`.`deletedAt` IS NULL) LEFT OUTER JOIN `Apartment` AS `Rentings->Room->Apartment` ON `Rentings->Room`.`ApartmentId` = `Rentings->Room->Apartment`.`id` AND (`Rentings->Room->Apartment`.`deletedAt` > CURRENT_TIMESTAMP OR `Rentings->Room->Apartment`.`deletedAt` IS NULL) LEFT OUTER JOIN `Room` AS `Rentings->Room->Apartment->Rooms` ON `Rentings->Room->Apartment`.`id` = `Rentings->Room->Apartment->Rooms`.`ApartmentId` AND (`Rentings->Room->Apartment->Rooms`.`deletedAt` > CURRENT_TIMESTAMP OR `Rentings->Room->Apartment->Rooms`.`deletedAt` IS NULL) LEFT OUTER JOIN `Metadata` AS `Metadata` ON `Client`.`id` = `Metadata`.`MetadatableId` AND `Metadata`.`metadatable` = 'Client' WHERE ((`Client`.`deletedAt` > CURRENT_TIMESTAMP OR `Client`.`deletedAt` IS NULL) AND `Client`.`id` = 'nhat-le-nguyen');
